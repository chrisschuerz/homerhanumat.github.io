---
layout: post
title: "xtabs() Tutorial"
date: 2014-02-28 23:00:00
comments: true
categories: [Student-Focused Tutorials]
published:  false
status:  process
---

* will be replaced by TOB
{:toc}

```{r include=FALSE}
opts_chunk$set(tidy=FALSE,fig.width=4.5,fig.height=3.5)
```

## Preliminaries

`xtabs()` is the numerical version of `barchartGC()`.  You use it when you want to study

* the distribution of one factor variable;
* the relationship between two factor variables.

The function `xtabs()` comes with the `stats` package, which is always loaded in R.  However, some of the data and other functions that we will use come from the `tigerstats` package, so make sure that it is loaded:

```{r message=FALSE}
require(tigerstats)
```

**Note:**  If you are not working with the R Studio server hosted by Georgetown College, then you will need install `tigerstats` on your own machine.  You can get the current version from [Github](http://github.com) by first installing the `devtools` package from the CRAN repository, and then running the following commands in a fresh R session:

```{r eval=FALSE}
require(devtools)
install_github(repo="homerhanumat/tigerstats")
```

## One Factor Variable

To see a table of the tallies for the factor variable **seat** (from the `mat111survey` data frame in the `tigerstats` package):

```{r}
xtabs(~seat,data=m111survey)
```

In order to get the actual distribution of **seat**, you want percents rather than counts, so apply the function `rowPerc()` from `tigerstats`:

```{r}
rowPerc(xtabs(~seat,data=m111survey))
```

If you have a table of the counts for a variable, then you can enter it directly.  For example, suppose you have already made:

```{r}
Seat <- xtabs(~seat,data=m111survey)
Seat
```

Then you can just enter the table into `rowPerc()`:
```{r}
rowPerc(Seat)
```


## Two Factor Variables

You can also use `xtabs()` to study the relationship between two factor variables.  For example, if you want to see whether males and females differ in their seating preferences, then you might try formula-data input as follows:

```{r}
xtabs(~sex+seat,data=m111survey)
```

Of course, row percents are the way to actually study the relationship:

```{r}
rowPerc(xtabs(~sex+seat,data=m111survey))
```

Note the type of formula used to study the relationship between two factor variables:

$$\sim ExplanatoryFactor + ResponseFactor$$